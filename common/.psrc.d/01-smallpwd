# compressed prompt with path and hostname
small_pwd(){
    PWD=${PWD:-$(pwd)}
    if [[ $PWD == $HOME ]] ;then
        echo -n '~'
    elif [[ $(basename "$PWD") == "$PWD" ]] ;then
        echo -n $PWD
    else
        relative_to_home=$(dirname "$PWD" | sed "s:^$HOME:/~:")
        cwd=$(echo $relative_to_home | egrep -o '(\/\.[^/]|\/[^/])' | sed ':a;N;$!ba;s/\n//g')
        echo -n ${cwd//\/\~/\~}/$(basename "$PWD")
    fi
}
